{"ast":null,"code":"var _jsxFileName = \"/Users/wesdionisio/Documents/Dev/latest-beach-sports/frontend/src/pages/PerfilPage.jsx\",\n  _s = $RefreshSig$();\n// src/pages/PerfilPage.jsx\n\nimport React, { useContext, useEffect, useState } from 'react';\nimport { AuthContext } from '../context/AuthContext';\nimport { Container, Typography, Box, TextField, Button, Grid, Paper, Card, CardContent, CardActions, CardHeader, Avatar, Tabs, Tab, FormControl, InputLabel, Select, MenuItem, Chip } from '@mui/material';\nimport { useNavigate } from 'react-router-dom';\nimport axios from '../api/apiService';\nimport { useSnackbar } from 'notistack';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst PerfilPage = () => {\n  _s();\n  const {\n    user,\n    setUser,\n    login,\n    register,\n    logout\n  } = useContext(AuthContext);\n  console.log('PerfilPage - user:', user);\n  console.log('PerfilPage - setUser:', setUser);\n  const navigate = useNavigate();\n  const {\n    enqueueSnackbar\n  } = useSnackbar();\n  const [profileData, setProfileData] = useState({\n    nome: '',\n    email: '',\n    telefone: ''\n    // Adicione outros campos conforme necessário\n  });\n  const [reservations, setReservations] = useState([]);\n  const [editing, setEditing] = useState(false);\n\n  // Estados para o formulário de login/cadastro\n  const [activeTab, setActiveTab] = useState(0); // 0: Login, 1: Cadastro\n  const [loginData, setLoginData] = useState({\n    email: '',\n    password: ''\n  });\n  const [registerData, setRegisterData] = useState({\n    nome: '',\n    email: '',\n    password: '',\n    telefone: ''\n    // Adicione outros campos conforme necessário\n  });\n\n  // Estado para controle de ordenação\n  const [sortOrder, setSortOrder] = useState('desc'); // 'desc' para mais recente, 'asc' para mais antiga\n\n  useEffect(() => {\n    if (user) {\n      setProfileData({\n        nome: user.nome || '',\n        email: user.email || '',\n        telefone: user.telefone || ''\n        // Preencha outros campos conforme necessário\n      });\n      fetchReservations();\n    }\n    // eslint-disable-next-line\n  }, [user]);\n\n  // Função para buscar as reservas do usuário\n  const fetchReservations = async () => {\n    try {\n      const response = await axios.get('/bookings/user'); // Certifique-se de que a URL está correta\n      console.log('Reservas recebidas:', response.data.reservas); // Adicionado para depuração\n      if (response.data.success) {\n        setReservations(response.data.reservas);\n      } else {\n        enqueueSnackbar('Não foi possível carregar suas reservas.', {\n          variant: 'error'\n        });\n      }\n    } catch (error) {\n      console.error('Erro ao buscar reservas:', error);\n      enqueueSnackbar('Erro ao buscar reservas. Tente novamente.', {\n        variant: 'error'\n      });\n    }\n  };\n\n  // Função para lidar com a edição dos campos do perfil\n  const handleChangeProfile = e => {\n    setProfileData(prev => ({\n      ...prev,\n      [e.target.name]: e.target.value\n    }));\n  };\n\n  // Função para salvar as alterações do perfil\n  const handleSave = async () => {\n    try {\n      const response = await axios.put('/auth/profile', profileData); // Corrigir a rota para /auth/profile\n      if (response.data.success) {\n        enqueueSnackbar('Perfil atualizado com sucesso.', {\n          variant: 'success'\n        });\n        setEditing(false);\n        // Atualizar o usuário no contexto\n        setUser(response.data.user);\n      } else {\n        enqueueSnackbar('Não foi possível atualizar o perfil.', {\n          variant: 'error'\n        });\n      }\n    } catch (error) {\n      console.error('Erro ao atualizar perfil:', error);\n      enqueueSnackbar('Erro ao atualizar perfil. Tente novamente.', {\n        variant: 'error'\n      });\n    }\n  };\n\n  // Função para lidar com logout\n  const handleLogout = () => {\n    // Chamar a função de logout do contexto\n    logout();\n    navigate('/'); // Redirecionar para a página inicial\n  };\n\n  // Funções para lidar com o formulário de login\n  const handleChangeLogin = e => {\n    setLoginData(prev => ({\n      ...prev,\n      [e.target.name]: e.target.value\n    }));\n  };\n  const handleLogin = async e => {\n    e.preventDefault();\n    const {\n      email,\n      password\n    } = loginData;\n    const result = await login(email, password);\n    if (result.success) {\n      enqueueSnackbar('Login realizado com sucesso.', {\n        variant: 'success'\n      });\n      navigate('/perfil'); // Redirecionar para a página de perfil\n    } else {\n      enqueueSnackbar(result.message || 'Erro no login.', {\n        variant: 'error'\n      });\n    }\n  };\n\n  // Funções para lidar com o formulário de cadastro\n  const handleChangeRegister = e => {\n    setRegisterData(prev => ({\n      ...prev,\n      [e.target.name]: e.target.value\n    }));\n  };\n  const handleRegister = async e => {\n    e.preventDefault();\n    const {\n      nome,\n      email,\n      password,\n      telefone\n    } = registerData;\n    const result = await register({\n      nome,\n      email,\n      password,\n      telefone\n    });\n    if (result.success) {\n      enqueueSnackbar('Cadastro realizado com sucesso.', {\n        variant: 'success'\n      });\n      navigate('/perfil'); // Redirecionar para a página de perfil\n    } else {\n      enqueueSnackbar(result.message || 'Erro no cadastro.', {\n        variant: 'error'\n      });\n    }\n  };\n\n  // Função para renderizar os cards de reservas com filtro e labels de status\n  const renderReservations = () => {\n    if (reservations.length === 0) {\n      return /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body1\",\n        children: \"Voc\\xEA n\\xE3o possui reservas.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 14\n      }, this);\n    }\n\n    // Ordenar as reservas com base no sortOrder\n    const sortedReservations = [...reservations].sort((a, b) => {\n      const dateA = new Date(a.data);\n      const dateB = new Date(b.data);\n      if (sortOrder === 'asc') {\n        return dateA - dateB;\n      } else {\n        return dateB - dateA;\n      }\n    });\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        mb: 2,\n        display: \"flex\",\n        justifyContent: \"flex-end\",\n        children: /*#__PURE__*/_jsxDEV(FormControl, {\n          variant: \"outlined\",\n          size: \"small\",\n          children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n            id: \"sort-order-label\",\n            children: \"Ordenar Por\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Select, {\n            labelId: \"sort-order-label\",\n            id: \"sort-order\",\n            value: sortOrder,\n            onChange: e => setSortOrder(e.target.value),\n            label: \"Ordenar Por\",\n            children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n              value: \"desc\",\n              children: \"Mais Recentes\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n              value: \"asc\",\n              children: \"Mais Antigas\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 2,\n        children: sortedReservations.map(reserva => {\n          var _reserva$quadra_id, _reserva$quadra_id2, _reserva$esporte;\n          return /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            sm: 6,\n            md: 4,\n            children: /*#__PURE__*/_jsxDEV(Card, {\n              sx: {\n                height: '380px'\n              },\n              children: [\" \", /*#__PURE__*/_jsxDEV(Box, {\n                sx: {\n                  height: '200px',\n                  // Altura fixa para a imagem\n                  position: 'relative',\n                  backgroundImage: `url(${((_reserva$quadra_id = reserva.quadra_id) === null || _reserva$quadra_id === void 0 ? void 0 : _reserva$quadra_id.foto_principal) || 'https://via.placeholder.com/150'})`,\n                  backgroundSize: 'cover',\n                  backgroundPosition: 'center'\n                },\n                children: /*#__PURE__*/_jsxDEV(Box, {\n                  sx: {\n                    position: 'absolute',\n                    top: 0,\n                    left: 0,\n                    right: 0,\n                    bottom: 0,\n                    // Garante que o overlay termine onde a imagem termina\n                    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n                    display: 'flex',\n                    flexDirection: 'column',\n                    justifyContent: 'center',\n                    alignItems: 'center',\n                    color: '#fff',\n                    padding: 2,\n                    textAlign: 'center'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"h6\",\n                    component: \"div\",\n                    children: ((_reserva$quadra_id2 = reserva.quadra_id) === null || _reserva$quadra_id2 === void 0 ? void 0 : _reserva$quadra_id2.nome) || 'Nome da Quadra'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 235,\n                    columnNumber: 9\n                  }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"body2\",\n                    children: ((_reserva$esporte = reserva.esporte) === null || _reserva$esporte === void 0 ? void 0 : _reserva$esporte.nome) || 'Esporte'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 238,\n                    columnNumber: 9\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 218,\n                  columnNumber: 7\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 208,\n                columnNumber: 5\n              }, this), /*#__PURE__*/_jsxDEV(Box, {\n                sx: {\n                  flex: 1,\n                  // Permite que a área de informações ocupe o espaço restante\n                  backgroundColor: '#fff',\n                  padding: 2,\n                  display: 'flex',\n                  flexDirection: 'column',\n                  justifyContent: 'space-between'\n                },\n                children: [/*#__PURE__*/_jsxDEV(Box, {\n                  children: [/*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"body2\",\n                    sx: {\n                      mb: 1\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"Data:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 257,\n                      columnNumber: 11\n                    }, this), \" \", new Date(reserva.data).toLocaleDateString('pt-BR')]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 256,\n                    columnNumber: 9\n                  }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"body2\",\n                    sx: {\n                      mb: 1\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"Hora:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 260,\n                      columnNumber: 11\n                    }, this), \" \", reserva.horario_inicio, \" - \", reserva.horario_fim]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 259,\n                    columnNumber: 9\n                  }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"body2\",\n                    sx: {\n                      mb: 2\n                    },\n                    children: [\" \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"Total:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 263,\n                      columnNumber: 11\n                    }, this), \" R$ \", reserva.total !== undefined ? reserva.total.toFixed(2) : '0.00']\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 262,\n                    columnNumber: 9\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 255,\n                  columnNumber: 7\n                }, this), /*#__PURE__*/_jsxDEV(Box, {\n                  sx: {\n                    display: 'flex',\n                    justifyContent: 'space-between',\n                    alignItems: 'center',\n                    mt: 'auto' // Empurra os botões para baixo\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(StatusLabel, {\n                    status: reserva.status\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 273,\n                    columnNumber: 9\n                  }, this), /*#__PURE__*/_jsxDEV(Button, {\n                    variant: \"contained\",\n                    color: \"primary\",\n                    size: \"small\",\n                    onClick: () => navigate(`/reservation-review/${reserva._id}`),\n                    children: \"Ver Reserva\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 274,\n                    columnNumber: 9\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 267,\n                  columnNumber: 7\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 245,\n                columnNumber: 5\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 206,\n              columnNumber: 3\n            }, this)\n          }, reserva._id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 13\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  };\n\n  // Componente para exibir o label de status\n  const StatusLabel = ({\n    status\n  }) => {\n    let color;\n    let label;\n    switch (status.toLowerCase()) {\n      case 'confirmada':\n        color = 'success';\n        label = 'Confirmada';\n        break;\n      case 'pendente':\n        color = 'warning';\n        label = 'Pendente';\n        break;\n      case 'cancelada':\n        color = 'error';\n        label = 'Cancelada';\n        break;\n      default:\n        color = 'default';\n        label = status;\n    }\n    return /*#__PURE__*/_jsxDEV(Chip, {\n      label: label,\n      color: color,\n      size: \"small\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 12\n    }, this);\n  };\n\n  // Se o usuário não estiver autenticado, mostrar o formulário de login/cadastro\n  if (!user) {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      maxWidth: \"sm\",\n      sx: {\n        mt: 5,\n        mb: 5\n      },\n      children: /*#__PURE__*/_jsxDEV(Paper, {\n        elevation: 3,\n        sx: {\n          p: 4\n        },\n        children: [/*#__PURE__*/_jsxDEV(Tabs, {\n          value: activeTab,\n          onChange: (e, newValue) => setActiveTab(newValue),\n          variant: \"fullWidth\",\n          textColor: \"primary\",\n          indicatorColor: \"primary\",\n          children: [/*#__PURE__*/_jsxDEV(Tab, {\n            label: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 330,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Tab, {\n            label: \"Criar Conta\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 331,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 11\n        }, this), activeTab === 0 && /*#__PURE__*/_jsxDEV(Box, {\n          component: \"form\",\n          onSubmit: handleLogin,\n          noValidate: true,\n          sx: {\n            mt: 3\n          },\n          children: [/*#__PURE__*/_jsxDEV(TextField, {\n            margin: \"normal\",\n            required: true,\n            fullWidth: true,\n            label: \"Email\",\n            name: \"email\",\n            type: \"email\",\n            value: loginData.email,\n            onChange: handleChangeLogin\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 337,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            margin: \"normal\",\n            required: true,\n            fullWidth: true,\n            label: \"Senha\",\n            name: \"password\",\n            type: \"password\",\n            value: loginData.password,\n            onChange: handleChangeLogin\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 347,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            type: \"submit\",\n            fullWidth: true,\n            variant: \"contained\",\n            color: \"primary\",\n            sx: {\n              mt: 3\n            },\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 357,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 336,\n          columnNumber: 13\n        }, this), activeTab === 1 && /*#__PURE__*/_jsxDEV(Box, {\n          component: \"form\",\n          onSubmit: handleRegister,\n          noValidate: true,\n          sx: {\n            mt: 3\n          },\n          children: [/*#__PURE__*/_jsxDEV(TextField, {\n            margin: \"normal\",\n            required: true,\n            fullWidth: true,\n            label: \"Nome\",\n            name: \"nome\",\n            value: registerData.nome,\n            onChange: handleChangeRegister\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 366,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            margin: \"normal\",\n            required: true,\n            fullWidth: true,\n            label: \"Email\",\n            name: \"email\",\n            type: \"email\",\n            value: registerData.email,\n            onChange: handleChangeRegister\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 375,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            margin: \"normal\",\n            required: true,\n            fullWidth: true,\n            label: \"Telefone\",\n            name: \"telefone\",\n            value: registerData.telefone,\n            onChange: handleChangeRegister\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 385,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            margin: \"normal\",\n            required: true,\n            fullWidth: true,\n            label: \"Senha\",\n            name: \"password\",\n            type: \"password\",\n            value: registerData.password,\n            onChange: handleChangeRegister\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 394,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            type: \"submit\",\n            fullWidth: true,\n            variant: \"contained\",\n            color: \"primary\",\n            sx: {\n              mt: 3\n            },\n            children: \"Criar Conta\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 405,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 365,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 321,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"md\",\n    sx: {\n      mt: 5,\n      mb: 5\n    },\n    children: /*#__PURE__*/_jsxDEV(Paper, {\n      elevation: 3,\n      sx: {\n        p: 4\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h5\",\n        gutterBottom: true,\n        children: \"Meu Perfil\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 418,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        component: \"form\",\n        noValidate: true,\n        autoComplete: \"off\",\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          spacing: 2,\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            sm: 6,\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              fullWidth: true,\n              label: \"Nome\",\n              name: \"nome\",\n              value: profileData.nome,\n              onChange: handleChangeProfile,\n              InputProps: {\n                readOnly: !editing\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 427,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 426,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            sm: 6,\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              fullWidth: true,\n              label: \"Email\",\n              name: \"email\",\n              type: \"email\",\n              value: profileData.email,\n              onChange: handleChangeProfile,\n              InputProps: {\n                readOnly: !editing\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 441,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 440,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            sm: 6,\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              fullWidth: true,\n              label: \"Telefone\",\n              name: \"telefone\",\n              value: profileData.telefone,\n              onChange: handleChangeProfile,\n              InputProps: {\n                readOnly: !editing\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 456,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 455,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 424,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          mt: 3,\n          display: \"flex\",\n          gap: 2,\n          children: editing ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              variant: \"contained\",\n              color: \"primary\",\n              onClick: handleSave,\n              children: \"Salvar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 475,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"outlined\",\n              color: \"secondary\",\n              onClick: () => setEditing(false),\n              children: \"Cancelar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 478,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            color: \"primary\",\n            onClick: () => setEditing(true),\n            children: \"Editar Perfil\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 483,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 472,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 423,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        mt: 5,\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          gutterBottom: true,\n          children: \"Minhas Reservas\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 492,\n          columnNumber: 11\n        }, this), renderReservations()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 491,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        mt: 5,\n        display: \"flex\",\n        justifyContent: \"flex-end\",\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outlined\",\n          color: \"error\",\n          onClick: handleLogout,\n          children: \"Sair da Conta\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 500,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 499,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 417,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 416,\n    columnNumber: 5\n  }, this);\n};\n\n// Componente para exibir o label de status\n_s(PerfilPage, \"ar65UnQ0eKE0X3Elwom1gQkVP+8=\", false, function () {\n  return [useNavigate, useSnackbar];\n});\n_c = PerfilPage;\nconst StatusLabel = ({\n  status\n}) => {\n  let color;\n  let label;\n  switch (status.toLowerCase()) {\n    case 'confirmada':\n      color = 'success';\n      label = 'Confirmada';\n      break;\n    case 'pendente':\n      color = 'warning';\n      label = 'Pendente';\n      break;\n    case 'cancelada':\n      color = 'error';\n      label = 'Cancelada';\n      break;\n    default:\n      color = 'default';\n      label = status;\n  }\n  return /*#__PURE__*/_jsxDEV(Chip, {\n    label: label,\n    color: color,\n    size: \"small\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 532,\n    columnNumber: 10\n  }, this);\n};\n_c2 = StatusLabel;\nexport default PerfilPage;\nvar _c, _c2;\n$RefreshReg$(_c, \"PerfilPage\");\n$RefreshReg$(_c2, \"StatusLabel\");","map":{"version":3,"names":["React","useContext","useEffect","useState","AuthContext","Container","Typography","Box","TextField","Button","Grid","Paper","Card","CardContent","CardActions","CardHeader","Avatar","Tabs","Tab","FormControl","InputLabel","Select","MenuItem","Chip","useNavigate","axios","useSnackbar","jsxDEV","_jsxDEV","Fragment","_Fragment","PerfilPage","_s","user","setUser","login","register","logout","console","log","navigate","enqueueSnackbar","profileData","setProfileData","nome","email","telefone","reservations","setReservations","editing","setEditing","activeTab","setActiveTab","loginData","setLoginData","password","registerData","setRegisterData","sortOrder","setSortOrder","fetchReservations","response","get","data","reservas","success","variant","error","handleChangeProfile","e","prev","target","name","value","handleSave","put","handleLogout","handleChangeLogin","handleLogin","preventDefault","result","message","handleChangeRegister","handleRegister","renderReservations","length","children","fileName","_jsxFileName","lineNumber","columnNumber","sortedReservations","sort","a","b","dateA","Date","dateB","mb","display","justifyContent","size","id","labelId","onChange","label","container","spacing","map","reserva","_reserva$quadra_id","_reserva$quadra_id2","_reserva$esporte","item","xs","sm","md","sx","height","position","backgroundImage","quadra_id","foto_principal","backgroundSize","backgroundPosition","top","left","right","bottom","backgroundColor","flexDirection","alignItems","color","padding","textAlign","component","esporte","flex","toLocaleDateString","horario_inicio","horario_fim","total","undefined","toFixed","mt","StatusLabel","status","onClick","_id","toLowerCase","maxWidth","elevation","p","newValue","textColor","indicatorColor","onSubmit","noValidate","margin","required","fullWidth","type","gutterBottom","autoComplete","InputProps","readOnly","gap","_c","_c2","$RefreshReg$"],"sources":["/Users/wesdionisio/Documents/Dev/latest-beach-sports/frontend/src/pages/PerfilPage.jsx"],"sourcesContent":["// src/pages/PerfilPage.jsx\n\nimport React, { useContext, useEffect, useState } from 'react';\nimport { AuthContext } from '../context/AuthContext';\nimport {\n  Container,\n  Typography,\n  Box,\n  TextField,\n  Button,\n  Grid,\n  Paper,\n  Card,\n  CardContent,\n  CardActions,\n  CardHeader,\n  Avatar,\n  Tabs,\n  Tab,\n  FormControl,\n  InputLabel,\n  Select,\n  MenuItem,\n  Chip,\n} from '@mui/material';\nimport { useNavigate } from 'react-router-dom';\nimport axios from '../api/apiService';\nimport { useSnackbar } from 'notistack';\n\nconst PerfilPage = () => {\n  const { user, setUser, login, register, logout } = useContext(AuthContext);\n  console.log('PerfilPage - user:', user);\n  console.log('PerfilPage - setUser:', setUser);\n  const navigate = useNavigate();\n  const { enqueueSnackbar } = useSnackbar();\n\n  const [profileData, setProfileData] = useState({\n    nome: '',\n    email: '',\n    telefone: '',\n    // Adicione outros campos conforme necessário\n  });\n\n  const [reservations, setReservations] = useState([]);\n\n  const [editing, setEditing] = useState(false);\n\n  // Estados para o formulário de login/cadastro\n  const [activeTab, setActiveTab] = useState(0); // 0: Login, 1: Cadastro\n  const [loginData, setLoginData] = useState({\n    email: '',\n    password: '',\n  });\n  const [registerData, setRegisterData] = useState({\n    nome: '',\n    email: '',\n    password: '',\n    telefone: '',\n    // Adicione outros campos conforme necessário\n  });\n\n  // Estado para controle de ordenação\n  const [sortOrder, setSortOrder] = useState('desc'); // 'desc' para mais recente, 'asc' para mais antiga\n\n  useEffect(() => {\n    if (user) {\n      setProfileData({\n        nome: user.nome || '',\n        email: user.email || '',\n        telefone: user.telefone || '',\n        // Preencha outros campos conforme necessário\n      });\n      fetchReservations();\n    }\n    // eslint-disable-next-line\n  }, [user]);\n\n  // Função para buscar as reservas do usuário\n  const fetchReservations = async () => {\n    try {\n      const response = await axios.get('/bookings/user'); // Certifique-se de que a URL está correta\n      console.log('Reservas recebidas:', response.data.reservas); // Adicionado para depuração\n      if (response.data.success) {\n        setReservations(response.data.reservas);\n      } else {\n        enqueueSnackbar('Não foi possível carregar suas reservas.', { variant: 'error' });\n      }\n    } catch (error) {\n      console.error('Erro ao buscar reservas:', error);\n      enqueueSnackbar('Erro ao buscar reservas. Tente novamente.', { variant: 'error' });\n    }\n  };\n\n  // Função para lidar com a edição dos campos do perfil\n  const handleChangeProfile = (e) => {\n    setProfileData(prev => ({\n      ...prev,\n      [e.target.name]: e.target.value,\n    }));\n  };\n\n  // Função para salvar as alterações do perfil\n  const handleSave = async () => {\n    try {\n      const response = await axios.put('/auth/profile', profileData); // Corrigir a rota para /auth/profile\n      if (response.data.success) {\n        enqueueSnackbar('Perfil atualizado com sucesso.', { variant: 'success' });\n        setEditing(false);\n        // Atualizar o usuário no contexto\n        setUser(response.data.user);\n      } else {\n        enqueueSnackbar('Não foi possível atualizar o perfil.', { variant: 'error' });\n      }\n    } catch (error) {\n      console.error('Erro ao atualizar perfil:', error);\n      enqueueSnackbar('Erro ao atualizar perfil. Tente novamente.', { variant: 'error' });\n    }\n  };\n\n  // Função para lidar com logout\n  const handleLogout = () => {\n    // Chamar a função de logout do contexto\n    logout();\n    navigate('/'); // Redirecionar para a página inicial\n  };\n\n  // Funções para lidar com o formulário de login\n  const handleChangeLogin = (e) => {\n    setLoginData(prev => ({\n      ...prev,\n      [e.target.name]: e.target.value,\n    }));\n  };\n\n  const handleLogin = async (e) => {\n    e.preventDefault();\n    const { email, password } = loginData;\n    const result = await login(email, password);\n    if (result.success) {\n      enqueueSnackbar('Login realizado com sucesso.', { variant: 'success' });\n      navigate('/perfil'); // Redirecionar para a página de perfil\n    } else {\n      enqueueSnackbar(result.message || 'Erro no login.', { variant: 'error' });\n    }\n  };\n\n  // Funções para lidar com o formulário de cadastro\n  const handleChangeRegister = (e) => {\n    setRegisterData(prev => ({\n      ...prev,\n      [e.target.name]: e.target.value,\n    }));\n  };\n\n  const handleRegister = async (e) => {\n    e.preventDefault();\n    const { nome, email, password, telefone } = registerData;\n    const result = await register({ nome, email, password, telefone });\n    if (result.success) {\n      enqueueSnackbar('Cadastro realizado com sucesso.', { variant: 'success' });\n      navigate('/perfil'); // Redirecionar para a página de perfil\n    } else {\n      enqueueSnackbar(result.message || 'Erro no cadastro.', { variant: 'error' });\n    }\n  };\n\n  // Função para renderizar os cards de reservas com filtro e labels de status\n  const renderReservations = () => {\n    if (reservations.length === 0) {\n      return <Typography variant=\"body1\">Você não possui reservas.</Typography>;\n    }\n\n    // Ordenar as reservas com base no sortOrder\n    const sortedReservations = [...reservations].sort((a, b) => {\n      const dateA = new Date(a.data);\n      const dateB = new Date(b.data);\n      if (sortOrder === 'asc') {\n        return dateA - dateB;\n      } else {\n        return dateB - dateA;\n      }\n    });\n\n    return (\n      <>\n        {/* Controle de Ordenação */}\n        <Box mb={2} display=\"flex\" justifyContent=\"flex-end\">\n          <FormControl variant=\"outlined\" size=\"small\">\n            <InputLabel id=\"sort-order-label\">Ordenar Por</InputLabel>\n            <Select\n              labelId=\"sort-order-label\"\n              id=\"sort-order\"\n              value={sortOrder}\n              onChange={(e) => setSortOrder(e.target.value)}\n              label=\"Ordenar Por\"\n            >\n              <MenuItem value=\"desc\">Mais Recentes</MenuItem>\n              <MenuItem value=\"asc\">Mais Antigas</MenuItem>\n            </Select>\n          </FormControl>\n        </Box>\n\n        <Grid container spacing={2}>\n          {sortedReservations.map(reserva => (\n            <Grid item xs={12} sm={6} md={4} key={reserva._id}>\n  <Card sx={{ height: '380px' }}> {/* Aumentei a altura total do card */}\n    {/* Parte Superior: Imagem com Overlay */}\n    <Box\n      sx={{\n        height: '200px', // Altura fixa para a imagem\n        position: 'relative',\n        backgroundImage: `url(${reserva.quadra_id?.foto_principal || 'https://via.placeholder.com/150'})`,\n        backgroundSize: 'cover',\n        backgroundPosition: 'center',\n      }}\n    >\n      {/* Overlay contido dentro da área da imagem */}\n      <Box\n        sx={{\n          position: 'absolute',\n          top: 0,\n          left: 0,\n          right: 0,\n          bottom: 0, // Garante que o overlay termine onde a imagem termina\n          backgroundColor: 'rgba(0, 0, 0, 0.5)',\n          display: 'flex',\n          flexDirection: 'column',\n          justifyContent: 'center',\n          alignItems: 'center',\n          color: '#fff',\n          padding: 2,\n          textAlign: 'center',\n        }}\n      >\n        <Typography variant=\"h6\" component=\"div\">\n          {reserva.quadra_id?.nome || 'Nome da Quadra'}\n        </Typography>\n        <Typography variant=\"body2\">\n          {reserva.esporte?.nome || 'Esporte'}\n        </Typography>\n      </Box>\n    </Box>\n\n    {/* Parte Inferior: Informações da Reserva */}\n    <Box\n      sx={{\n        flex: 1, // Permite que a área de informações ocupe o espaço restante\n        backgroundColor: '#fff',\n        padding: 2,\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'space-between',\n      }}\n    >\n      <Box>\n        <Typography variant=\"body2\" sx={{ mb: 1 }}>\n          <strong>Data:</strong> {new Date(reserva.data).toLocaleDateString('pt-BR')}\n        </Typography>\n        <Typography variant=\"body2\" sx={{ mb: 1 }}>\n          <strong>Hora:</strong> {reserva.horario_inicio} - {reserva.horario_fim}\n        </Typography>\n        <Typography variant=\"body2\" sx={{ mb: 2 }}> {/* Adicionei margem embaixo */}\n          <strong>Total:</strong> R$ {reserva.total !== undefined ? reserva.total.toFixed(2) : '0.00'}\n        </Typography>\n      </Box>\n\n      <Box sx={{ \n        display: 'flex', \n        justifyContent: 'space-between', \n        alignItems: 'center',\n        mt: 'auto' // Empurra os botões para baixo\n      }}>\n        <StatusLabel status={reserva.status} />\n        <Button\n          variant=\"contained\"\n          color=\"primary\"\n          size=\"small\"\n          onClick={() => navigate(`/reservation-review/${reserva._id}`)}\n        >\n          Ver Reserva\n        </Button>\n      </Box>\n    </Box>\n  </Card>\n</Grid>\n          ))}\n        </Grid>\n      </>\n    );\n  };\n\n  // Componente para exibir o label de status\n  const StatusLabel = ({ status }) => {\n    let color;\n    let label;\n\n    switch (status.toLowerCase()) {\n      case 'confirmada':\n        color = 'success';\n        label = 'Confirmada';\n        break;\n      case 'pendente':\n        color = 'warning';\n        label = 'Pendente';\n        break;\n      case 'cancelada':\n        color = 'error';\n        label = 'Cancelada';\n        break;\n      default:\n        color = 'default';\n        label = status;\n    }\n\n    return <Chip label={label} color={color} size=\"small\" />;\n  };\n\n  // Se o usuário não estiver autenticado, mostrar o formulário de login/cadastro\n  if (!user) {\n    return (\n      <Container maxWidth=\"sm\" sx={{ mt: 5, mb: 5 }}>\n        <Paper elevation={3} sx={{ p: 4 }}>\n          <Tabs\n            value={activeTab}\n            onChange={(e, newValue) => setActiveTab(newValue)}\n            variant=\"fullWidth\"\n            textColor=\"primary\"\n            indicatorColor=\"primary\"\n          >\n            <Tab label=\"Login\" />\n            <Tab label=\"Criar Conta\" />\n          </Tabs>\n\n          {/* Formulário de Login */}\n          {activeTab === 0 && (\n            <Box component=\"form\" onSubmit={handleLogin} noValidate sx={{ mt: 3 }}>\n              <TextField\n                margin=\"normal\"\n                required\n                fullWidth\n                label=\"Email\"\n                name=\"email\"\n                type=\"email\"\n                value={loginData.email}\n                onChange={handleChangeLogin}\n              />\n              <TextField\n                margin=\"normal\"\n                required\n                fullWidth\n                label=\"Senha\"\n                name=\"password\"\n                type=\"password\"\n                value={loginData.password}\n                onChange={handleChangeLogin}\n              />\n              <Button type=\"submit\" fullWidth variant=\"contained\" color=\"primary\" sx={{ mt: 3 }}>\n                Login\n              </Button>\n            </Box>\n          )}\n\n          {/* Formulário de Cadastro */}\n          {activeTab === 1 && (\n            <Box component=\"form\" onSubmit={handleRegister} noValidate sx={{ mt: 3 }}>\n              <TextField\n                margin=\"normal\"\n                required\n                fullWidth\n                label=\"Nome\"\n                name=\"nome\"\n                value={registerData.nome}\n                onChange={handleChangeRegister}\n              />\n              <TextField\n                margin=\"normal\"\n                required\n                fullWidth\n                label=\"Email\"\n                name=\"email\"\n                type=\"email\"\n                value={registerData.email}\n                onChange={handleChangeRegister}\n              />\n              <TextField\n                margin=\"normal\"\n                required\n                fullWidth\n                label=\"Telefone\"\n                name=\"telefone\"\n                value={registerData.telefone}\n                onChange={handleChangeRegister}\n              />\n              <TextField\n                margin=\"normal\"\n                required\n                fullWidth\n                label=\"Senha\"\n                name=\"password\"\n                type=\"password\"\n                value={registerData.password}\n                onChange={handleChangeRegister}\n              />\n              {/* Adicione outros campos conforme necessário */}\n              <Button type=\"submit\" fullWidth variant=\"contained\" color=\"primary\" sx={{ mt: 3 }}>\n                Criar Conta\n              </Button>\n            </Box>\n          )}\n        </Paper>\n      </Container>\n    );\n  }\n\n  return (\n    <Container maxWidth=\"md\" sx={{ mt: 5, mb: 5 }}>\n      <Paper elevation={3} sx={{ p: 4 }}>\n        <Typography variant=\"h5\" gutterBottom>\n          Meu Perfil\n        </Typography>\n\n        {/* Formulário de Perfil */}\n        <Box component=\"form\" noValidate autoComplete=\"off\">\n          <Grid container spacing={2}>\n            {/* Nome */}\n            <Grid item xs={12} sm={6}>\n              <TextField\n                fullWidth\n                label=\"Nome\"\n                name=\"nome\"\n                value={profileData.nome}\n                onChange={handleChangeProfile}\n                InputProps={{\n                  readOnly: !editing,\n                }}\n              />\n            </Grid>\n\n            {/* Email */}\n            <Grid item xs={12} sm={6}>\n              <TextField\n                fullWidth\n                label=\"Email\"\n                name=\"email\"\n                type=\"email\"\n                value={profileData.email}\n                onChange={handleChangeProfile}\n                InputProps={{\n                  readOnly: !editing,\n                }}\n              />\n            </Grid>\n\n            {/* Telefone */}\n            <Grid item xs={12} sm={6}>\n              <TextField\n                fullWidth\n                label=\"Telefone\"\n                name=\"telefone\"\n                value={profileData.telefone}\n                onChange={handleChangeProfile}\n                InputProps={{\n                  readOnly: !editing,\n                }}\n              />\n            </Grid>\n\n            {/* Outros campos podem ser adicionados aqui */}\n          </Grid>\n\n          {/* Botões de Ação */}\n          <Box mt={3} display=\"flex\" gap={2}>\n            {editing ? (\n              <>\n                <Button variant=\"contained\" color=\"primary\" onClick={handleSave}>\n                  Salvar\n                </Button>\n                <Button variant=\"outlined\" color=\"secondary\" onClick={() => setEditing(false)}>\n                  Cancelar\n                </Button>\n              </>\n            ) : (\n              <Button variant=\"contained\" color=\"primary\" onClick={() => setEditing(true)}>\n                Editar Perfil\n              </Button>\n            )}\n          </Box>\n        </Box>\n\n        {/* Seção de Reservas */}\n        <Box mt={5}>\n          <Typography variant=\"h6\" gutterBottom>\n            Minhas Reservas\n          </Typography>\n          {renderReservations()}\n        </Box>\n\n        {/* Botão de Logout */}\n        <Box mt={5} display=\"flex\" justifyContent=\"flex-end\">\n          <Button variant=\"outlined\" color=\"error\" onClick={handleLogout}>\n            Sair da Conta\n          </Button>\n        </Box>\n      </Paper>\n    </Container>\n  );\n};\n\n// Componente para exibir o label de status\nconst StatusLabel = ({ status }) => {\n  let color;\n  let label;\n\n  switch (status.toLowerCase()) {\n    case 'confirmada':\n      color = 'success';\n      label = 'Confirmada';\n      break;\n    case 'pendente':\n      color = 'warning';\n      label = 'Pendente';\n      break;\n    case 'cancelada':\n      color = 'error';\n      label = 'Cancelada';\n      break;\n    default:\n      color = 'default';\n      label = status;\n  }\n\n  return <Chip label={label} color={color} size=\"small\" />;\n};\n\nexport default PerfilPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}